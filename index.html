<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Azure Maps</title>

    <meta charset="utf-8" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      href="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.css"
      rel="stylesheet"
    />
    <script src="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <script>
      var map, datasource;

      function getMap() {
        //Initialize a map instance.
        map = new atlas.Map("myMap", {
          center: [-60, -20],
          zoom: 3.5,
          style: "grayscale_dark",
          view: "Auto",

          //Add authentication details for connecting to Azure Maps.
          authOptions: {
            authType: "subscriptionKey",
            subscriptionKey:
              "22bQ1Hgu6FHRMchGAljlJYm2ibSD86BquNx7A6qSpMdj08Qi9Jr4JQQJ99BEACYeBjFTZz7NAAAgAZMPATzD",
          },
        });

        //Wait until the map resources are ready.
        map.events.add("ready", function () {
          //Create a data source and add it to the map.
          datasource = new atlas.source.DataSource(null, {
            //Tell the data source to cluster point data.
            cluster: true,

            //The radius in pixels to cluster points together.
            clusterRadius: 15,
          });
          map.sources.add(datasource);

          //Create a heatmap and add it to the map.
          map.layers.add(
            new atlas.layer.HeatMapLayer(datasource, null, {
              //Set the weight to the point_count property of the data points.
              weight: ["get", "point_count"],

              //Optionally adjust the radius of each heat point.
              radius: 20,
            }),
            "labels"
          );

          //Load a data set of points, in this case earthquake data from the USGS.
          datasource.importDataFromUrl(
            "https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.geojson?minlatitude=-56.0&maxlatitude=32.0&minlongitude=-120.0&maxlongitude=-30.0"
          );
        });
      }
    </script>
  </head>
  <body class="bg-gray-500" onload="getMap()">
    <header class="text-white text-4xl w-full font-semibold">
      <nav
        class="flex justify-between items-center bg-gradient-to-r to-[#0D559C] from-[#0078D4] h-20 px-20"
      >
        <div class="flex items-center gap-3">
          <span
            ><img
              src="./assets/Microsoft_Azure.svg"
              alt="azure logo "
              class="w-15 h-15"
          /></span>
          <a href="#">Azure<span class="text-sky-800"> Maps</span></a>
        </div>
        <ul class="flex space-x-4 mx-4 text-xl">
          <li class="hover:text-sky-700 transition duration-300">
            <a
              href="https://azure.microsoft.com/es-es/products/azure-maps"
              target="_blank"
              >Microsoft</a
            >
          </li>
          <li class="hover:text-sky-700 transition duration-300">
            <a
              target="_blank"
              href="https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.geojson?minlatitude=-56.0&maxlatitude=-17.5&minlongitude=-75.0&maxlongitude=-66.0"
              >API-Earthquake</a
            >
          </li>
          <li><a href="#">Maps</a></li>
          <li><a href="#">Maps</a></li>
        </ul>
      </nav>
    </header>
    <div
      id="myMap"
      style="position: relative; width: 100%; min-width: 290px; height: 100vh"
      class=""
    ></div>
  </body>
</html>
